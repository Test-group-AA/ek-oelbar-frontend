<div class="beer-page">
  <header class="page-header">
    <h1>ğŸº Vores Ã˜lkort</h1>
    <p>Vi tilbyder et omhyggeligt udvalgt sortiment af kvalitetsÃ¸l fra nÃ¦r og fjern</p>
  </header>

  <!-- Loading State -->
  <div class="loading" *ngIf="isLoading">
    <span class="loading-spinner">ğŸº</span>
    <p>IndlÃ¦ser Ã¸l...</p>
  </div>

  <!-- Error State -->
  <div class="error" *ngIf="error">
    <p>{{ error }}</p>
    <button (click)="loadBeers()">PrÃ¸v igen</button>
  </div>

  <!-- Content -->
  <ng-container *ngIf="!isLoading && !error">
    <!-- FadÃ¸l Section -->
    <section class="beer-section" data-testid="tap-beers-section">
      <div class="section-header">
        <span class="icon">ğŸº</span>
        <h2>FadÃ¸l</h2>
      </div>
      <div class="beer-grid" *ngIf="tapBeers.length; else noTapBeers">
        <article class="beer-card" *ngFor="let beer of tapBeers" [attr.data-testid]="'beer-card-' + beer.id" (click)="openBeerDetail(beer)">
          <div class="beer-header">
            <h3 data-testid="beer-name">{{ beer.name }}</h3>
            <span class="price" data-testid="beer-price">{{ beer.price }} kr</span>
          </div>
          <p class="description">{{ beer.description }}</p>
          <div class="beer-meta" *ngIf="beer.country || beer.alcoholPercentage">
            <span *ngIf="beer.country">ğŸŒ {{ beer.country }}</span>
            <span *ngIf="beer.alcoholPercentage">ğŸº {{ beer.alcoholPercentage }}%</span>
          </div>
          
          <!-- Cart Actions -->
          <div class="beer-actions">
            <button class="add-to-cart-btn" [attr.data-testid]="'add-to-cart-' + beer.id" (click)="addToCart(beer, $event)">
              <span class="btn-icon">ğŸ›’</span>
              <span class="btn-text">TilfÃ¸j</span>
            </button>
            <span class="in-cart-badge" *ngIf="getQuantityInCart(beer.id!) > 0">
              {{ getQuantityInCart(beer.id!) }} i kurv
            </span>
          </div>
        </article>
      </div>
      <ng-template #noTapBeers>
        <p class="no-beers">Ingen fadÃ¸l tilgÃ¦ngelige</p>
      </ng-template>
    </section>

    <!-- FlaskeÃ¸l Section -->
    <section class="beer-section" data-testid="bottled-beers-section">
      <div class="section-header">
        <span class="icon">ğŸ¾</span>
        <h2>FlaskeÃ¸l</h2>
      </div>
      <div class="beer-grid" *ngIf="bottledBeers.length; else noBottledBeers">
        <article class="beer-card" *ngFor="let beer of bottledBeers" [attr.data-testid]="'beer-card-' + beer.id" (click)="openBeerDetail(beer)">
          <div class="beer-header">
            <h3 data-testid="beer-name">{{ beer.name }}</h3>
            <span class="price" data-testid="beer-price">{{ beer.price }} kr</span>
          </div>
          <p class="description">{{ beer.description }}</p>
          <div class="beer-meta" *ngIf="beer.country || beer.alcoholPercentage">
            <span *ngIf="beer.country">ğŸŒ {{ beer.country }}</span>
            <span *ngIf="beer.alcoholPercentage">ğŸº {{ beer.alcoholPercentage }}%</span>
          </div>
          
          <!-- Cart Actions -->
          <div class="beer-actions">
            <button class="add-to-cart-btn" [attr.data-testid]="'add-to-cart-' + beer.id" (click)="addToCart(beer, $event)">
              <span class="btn-icon">ğŸ›’</span>
              <span class="btn-text">TilfÃ¸j</span>
            </button>
            <span class="in-cart-badge" *ngIf="getQuantityInCart(beer.id!) > 0">
              {{ getQuantityInCart(beer.id!) }} i kurv
            </span>
          </div>
        </article>
      </div>
      <ng-template #noBottledBeers>
        <p class="no-beers">Ingen flaskeÃ¸l tilgÃ¦ngelige</p>
      </ng-template>
    </section>

    <!-- Happy Hour Banner -->
    <section class="happy-hour">
      <h3>ğŸ‰ Studerendes Happy Hour!</h3>
      <div class="offers">
        <p><strong>Mandag - Torsdag kl. 16-19:</strong> 20% rabat pÃ¥ alle fadÃ¸l</p>
        <p><strong>Fredag fÃ¸r koncert kl. 18-20:</strong> 2 for 1 pÃ¥ udvalgte flaskeÃ¸l</p>
        <p class="note">* Gyldigt studiekort skal fremvises</p>
      </div>
    </section>
  </ng-container>
</div>

<!-- Beer Detail Modal -->
<app-beer-detail-modal 
  [beer]="selectedBeer" 
  (close)="closeBeerDetail()">
</app-beer-detail-modal>