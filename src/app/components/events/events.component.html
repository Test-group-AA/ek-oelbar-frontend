<div class="events-page">
  <header class="page-header">
    <h1>ğŸ­ Events & Underholdning</h1>
    <p>Hver fredag prÃ¦senterer vi live underholdning - fra koncerter og tryllekunst til poesi</p>
  </header>

  <!-- Loading State -->
  <div class="loading" *ngIf="isLoading">
    <span class="loading-spinner">ğŸµ</span>
    <p>IndlÃ¦ser events...</p>
  </div>

  <!-- Error State -->
  <div class="error" *ngIf="error">
    <p>{{ error }}</p>
    <button (click)="loadEvents()">PrÃ¸v igen</button>
  </div>

  <!-- Events List -->
  <div class="events-list" *ngIf="!isLoading && !error">
    <article class="event-card" data-testid="event-card" *ngFor="let event of events">
      <div class="event-date">
        <span class="emoji">{{ event.emoji }}</span>
        <span class="date" data-testid="event-date">{{ formatDate(event.date) }}</span>
      </div>
      <div class="event-content">
        <div class="event-header">
          <div class="event-info">
            <h3 data-testid="event-title">{{ event.title }}</h3>
            <p class="artist" data-testid="event-artist">{{ event.artist }}</p>
          </div>
          <div class="time-badge">
            ğŸ•— {{ formatTime(event.startTime) }} - {{ formatTime(event.endTime) }}
          </div>
        </div>
        <p class="description">{{ event.description }}</p>
        <div class="badges">
          <span class="badge free" *ngIf="event.freeEntry">Gratis entrÃ©</span>
          <span class="badge reservation" *ngIf="event.reservationRequired">
            Reservation anbefales
          </span>
          <span class="badge no-reservation" *ngIf="!event.reservationRequired">
            Ingen reservation nÃ¸dvendig
          </span>
        </div>

        <!-- NEW: Quick Reservation Widget -->
        <app-quick-reservation 
          *ngIf="event.reservationRequired"
          [event]="event"
          (success)="onReservationSuccess()">
        </app-quick-reservation>
      </div>
    </article>

    <p class="no-events" *ngIf="events.length === 0">
      Ingen kommende events pÃ¥ nuvÃ¦rende tidspunkt.
    </p>
  </div>

  <!-- CTA Section -->
  <section class="cta-section" *ngIf="!isLoading && !error">
    <div class="cta-icon">ğŸµ</div>
    <div class="cta-content">
      <h3>Vil du optrÃ¦de hos os?</h3>
      <p>Vi er altid pÃ¥ udkig efter lokale talenter!</p>
      <p class="cta-description">
        Er du musiker, poet, tryllekunstner eller har andre talenter? 
        Kontakt os for at hÃ¸re om muligheder for at optrÃ¦de pÃ¥ vores fredag events.
      </p>
      <a routerLink="/contact" class="cta-button">Kontakt os</a>
    </div>
  </section>
</div>